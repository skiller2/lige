<nz-form-item>
    <nz-form-control>
      <ng-container *ngFor="let files of $files | async" >
        <div class="containerAnteriores" nz-tooltip nzTooltipTitle={{files.nombre}}>
          
          <span 
            nz-popconfirm
            nzPopconfirmTitle="Seguro que desea eliminar dicho archivo?"
            (nzOnConfirm)="confirmDeleteArchivo(files.id,false)"
            nzPopconfirmPlacement="top"
            nz-button 
            nzType="primary"
            nzDanger
            nz-icon nzType="delete" nzTheme="outline" class="trash-color"></span>
            <span nz-icon nzType="search" nzTheme="outline" (click)="LoadArchivo(files.id,files.filename)" ></span>
          <a nz-icon nzType="download" nzHref="files.path" target="_blank" nzTheme="outline"
            class="download-color" app-down-file [httpMethod]="'POST'"
            [httpBody]="{'documentId': files.id}" httpUrl="api/carga-licencia/downloadLicencia"></a>
          <span> {{files.nombre}} </span>
        </div>
      </ng-container> 
      @if(files().length > 0){
        <ng-container  class="" *ngFor="let filesAdd of files() ">
          <div class="containerAnteriores" nz-tooltip nzTooltipTitle={{filesAdd.fieldname}}>
            <img nz-image width="90px" height="100px" [nzSrc]="filesAdd.fileUrl"  alt="" />
            <span 
                nz-popconfirm 
                nzPopconfirmTitle="Seguro que desea eliminar dicho archivo?"
                (nzOnConfirm)="confirmDeleteArchivo(filesAdd.fieldname,true)"
                nzPopconfirmPlacement="top"
                nz-button 
                nzType="primary"
                nzDanger
                nz-icon nzType="delete" nzTheme="outline" class="trash-color"></span>

                <span *ngIf="!filesAdd.mimetype.includes('image')"  nz-icon nzType="search" nzTheme="outline" (click)="LoadArchivo(0,filesAdd.filename)" ></span>

             <a nz-icon nzType="download" nzHref="licencia.path" target="_blank" nzTheme="outline"
              class="download-color" app-down-file [httpMethod]="'POST'"
              [httpBody]="{'documentId': 0, 'filename':filesAdd.filename}" httpUrl="api/file-upload/downloadFile"></a>
            <span> {{filesAdd.originalname}} </span>
          </div>
        </ng-container>
   }
    </nz-form-control>

   
  </nz-form-item>

<nz-form-item >
    <nz-form-control class="BtnUploadFile">
      <ng-container>
        <nz-upload nzAccept=".pdf,image/*" nzAction="/api/file-upload/upload" nzName="pdf" [nzLimit]="1" [nzShowUploadList]="false" (nzChange)="uploadChange($event)" >
          <button  nz-button  >
            <span nz-icon nzType="upload"></span>
           {{ 'app.btn.file' | i18n }}
          </button>
        </nz-upload>
      </ng-container>
    </nz-form-control>
  </nz-form-item>

  <nz-modal [(nzVisible)]="modalViewerVisiable" nzTitle="" nzWidth="700" nzOkDisabled="true" (nzOnCancel)="handleCancel()" >
    <ng-container *nzModalContent>
      <ngx-extended-pdf-viewer
          [src]="src()"
          [height]="'auto'" 
          [textLayer]="true" 
          [showHandToolButton]="false" 
          [filenameForDownload]="FileName()"> 
      </ngx-extended-pdf-viewer>


     <!-- //este es para testear> -->
<!--
      <ngx-extended-pdf-viewer [src]="'/assets/pdfs/Bootstrap-vs-Material-Design-vs-Prime-vs-Tailwind.pdf'">
      </ngx-extended-pdf-viewer>
-->     
    </ng-container>
  </nz-modal>


