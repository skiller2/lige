<nz-card>
  <nz-tag *ngFor="let tag of tags; let i = index" [nzMode]="'closeable'" (nzOnClose)="closeTag(i)">
    {{ tag }}
  </nz-tag>
  <nz-tag *ngIf="!isFiltroBuilder" class="editable-tag" nzNoAnimation (click)="handleTagInteraction()">
    <span nz-icon nzType="plus"></span>
    Añadir Filtro
  </nz-tag>
  <ng-container *ngIf="isFiltroBuilder">
    <!-- <nz-select
      [nzPlaceHolder]="'Condición'"
      [(ngModel)]="selections.condition"
      #conditionSelector>
      <nz-option
        *ngFor="let condition of conditionsToSelect"
        [nzLabel]="condition"
        [nzValue]="condition"></nz-option>
    </nz-select> -->

    <nz-select [nzDropdownMatchSelectWidth]="false" [nzPlaceHolder]="'Columna'" [(ngModel)]="selections.field"
      (ngModelChange)="onOptionChange()" #fieldSelector>
      <ng-container *ngFor="let field of _fieldsToSelect">
        <nz-option *ngIf="field.searchHidden!=true" [nzLabel]="field.name" [nzValue]="field.field">
        </nz-option>

      </ng-container>
    </nz-select>
    <!--
    <nz-select
      *ngIf="inputSearchview == false && inputSucursalview == false && inputClientView == false && inputObjetivoView == false && selections.field != '' "
      [nzPlaceHolder]="'Operador'" [(ngModel)]="selections.operator" #operatorSelector>

      <nz-option *ngFor="let operator of operatorsToSelect" [nzLabel]="operator" [nzValue]="operator"></nz-option>
    </nz-select>
    -->
    <input
      *ngIf="inputSearchview == false && inputSucursalview == false && inputClientView == false && inputObjetivoView == false && selections.field != ''"
      placeholder="Valor" #inputElement nz-input type="text" [(ngModel)]="inputValue" style="width: 78px"
      (keydown.enter)="handleInputConfirm()" />

    <div nz-col [nzSpan]="5" id="inpurForPersonalSearch" style="text-align: center; display:inline-block;width: 22%;"
      *ngIf="inputSearchview">
      <app-personal-search [(ngModel)]="selectedPersonalId" [ngModelOptions]="{ standalone: true }"
        (keydown.enter)="handleInputConfirm()" />
    </div>

    <div nz-col [nzSpan]="5" id="inpurForClientSearch" style="text-align: center; display:inline-block;width: 22%;"
      *ngIf="inputClientView">
      <app-cliente-search [(ngModel)]="selectedClienteId " [ngModelOptions]="{ standalone: true }"
        (keydown.enter)="handleInputConfirm()" />
    </div>

    <div nz-col [nzSpan]="5" id="inpurForObjetivoSearch" style="text-align: center; display:inline-block;width: 22%;"
      *ngIf="inputObjetivoView">
      <app-objetivo-search [(ngModel)]="selectedObjetivoId " [ngModelOptions]="{ standalone: true }"
        (keydown.enter)="handleInputConfirm()" />
    </div>
    

    <nz-form-control id="sucursalName" [nzSpan]="4" *ngIf="inputSucursalview" style="display:inline-block;width: 12%;">
      <nz-select #sucursal="ngModel" nzSpan="5" name="SucursalId" [(ngModel)]="selectedSucursalId" nzAllowClear
        nzPlaceHolder="Sucursal" nzShowSearch (ngModelChange)="selectedValueSucursal($event)">
        <ng-container *ngFor="let option of $optionsSucursales | async">
          <nz-option [nzValue]="option.SucursalId" [nzLabel]="option.SucursalDescripcion"></nz-option>
        </ng-container>
      </nz-select>
    </nz-form-control>


    <button nz-button (click)="handleInputConfirm()">+</button>
  </ng-container>
</nz-card>