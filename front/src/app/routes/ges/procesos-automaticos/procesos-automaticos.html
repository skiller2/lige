<nz-card class="small-margin">

  <div nz-row style="align-items: center; display: flex; justify-content: space-between;">

    <div nz-row>
      <!-- <nz-form-label [nzSpan]="10">Periodo</nz-form-label>
      <nz-form-control [nzSpan]="14">
        <nz-date-picker nzMode="month" [(ngModel)]="periodo" nzFormat="MM/yyyy" style="width: 100%;"/>
      </nz-form-control> -->
    </div>

    <div nz-col style="display: flex;flex-direction: row-reverse;">

      <ng-template #confirm>
        <nz-form-label>Periodo</nz-form-label>
        <nz-date-picker nzMode="month" [(ngModel)]="fechaBio" [nzFormat]="'yyyy-MM'" [ngModelOptions]="{standalone: true}" />
      </ng-template>
      <li class="ant-btn ant-btn-default ant-btn-icon-only" nz-button nz-popconfirm
        [nzPopconfirmTitle]="confirm" [nzBeforeConfirm]="" [nzPopconfirmShowArrow]="false"
        (nzOnConfirm)="leerControlAcceso()" nz-tooltip nzTooltipTitle="{{'app.btn.control.acceso' | i18n }}">
        <span class="anticon anticon-setting" style="margin-top: 0.3rem" nz-icon nzType="copy"
        nzTheme="outline"></span>
      </li>

    </div>

  </div>

  <div nz-row class="contentStyle">
    <div nz-col nzSpan="13" class="listStyle">
      <ul nz-menu nzMode="horizontal" style="display: flex;">
        <li nz-menu-item nzMatchRouter>
          <span nz-icon nzType=""></span>
          <a [routerLink]="['/', 'ges', 'procesos-automaticos', 'listado']" (click)="listProcesosAutomaticos()">Lista</a>
        </li>
        <li nz-menu-item nzMatchRouter>
          <span nz-icon nzType=""></span>
          <a [routerLink]="['/', 'ges', 'procesos-automaticos', 'detalle']">Detalle</a>
        </li>
      </ul>
    </div>
  </div>

  <nz-tabs nzCentered nzLinkRouter class="hide-ant-tabs-nav" >
    <nz-tab></nz-tab>
    <nz-tab>
      <a nz-tab-link routerLink="/ges/procesos-automaticos/listado">Lista</a>
      @if ((columns$|async); as columnas) {
        <ng-template nz-tab>
          <shared-filtro-builder #sfb [fieldsToSelect]="columnas" (optionsChange)="listOptionsChange($event)"
            [startFilters]="startFilters" />
            <div class="gridListContainer container-fluid">
              <angular-slickgrid gridId="grid" [columns]="columnas | colsFilter" [options]="gridOptions"
                [dataset]="(gridData$ | async) || []" (onAngularGridCreated)="angularGridReady($event)"
                (onSelectedRowsChanged)="handleSelectedRowsChanged($event)">
              </angular-slickgrid>
            </div>
          </ng-template>
        }
      </nz-tab>

      <nz-tab>
        <a nz-tab-link routerLink="/ges/procesos-automaticos/detalle">Detalle</a>
        <app-procesos-automaticos-detalle [logCod]="logCodigo()"></app-procesos-automaticos-detalle>
      </nz-tab>

    </nz-tabs>
  </nz-card>