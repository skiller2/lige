<div class="app-foto-container" *ngIf="(personalDetalle$ | async) as imgdata">
  <img class="app-foto" nz-image [nzSrc]="imgdata.image" nzFallback="./assets/dummy-person-image.jpg" />
</div>

<nz-divider nzText="Categorías"></nz-divider>
     
@if ((personalDetalleCategorias$ | async)?.categorias; as categorias){
@if (!categorias.length){ <li>Sin datos</li>}
@for (cat of categorias; track cat.PersonalCategoriaCategoriaPersonalId) {
<li> {{cat.CategoriaPersonalDescripcion}} {{(cat.ValorLiquidacionHoraNormal>0)?(cat.ValorLiquidacionHoraNormal|currency):'(Sin importe)'}}
  {{(cat.ValorLiquidacionHorasTrabajoHoraNormal>0)?'('+cat.ValorLiquidacionHorasTrabajoHoraNormal+' hs)':''}}
</li>
}
}

<nz-divider nzText="Licencias"></nz-divider>
@if ((personalDetalleLicencias$ |async)?.licencias; as licencias){
@if (!licencias.length){<li>Sin datos</li>}
@for (lic of licencias; track lic.desde) {
<li> {{lic.desde|date }} {{lic.hasta2|date}}</li>
}
}

<nz-divider nzText="Situación Revista"></nz-divider>
@if (personalDetalleSitRevista$ | async; as situacion){
@if (!situacion.length) {<li>Sin datos</li>}
@for (sit of situacion; track sit.PersonalSituacionRevistaDesde) {
<li>{{sit.SituacionRevistaDescripcion}} {{sit.PersonalSituacionRevistaDesde|date }}
  {{sit.PersonalSituacionRevistaHasta|date}}</li>
}
}

<nz-divider nzText="Responsable"></nz-divider>
@if (personalDetalleResponsables$ | async; as responsables){
@if (responsables.length) {
  <app-view-responsable [list]="responsables"></app-view-responsable>
} @else {
   <li>Sin datos</li>
}
}

<nz-divider nzText="Habilitaciones"></nz-divider>
@if ((habilitaciones$ | async)?.habilitaciones; as habilitaciones){
@if (!habilitaciones.length) { <li>Sin datos</li>}

@for (habilitacion of habilitaciones; track habilitacion.PersonalHabilitacionDesde) {
<li title="{{ habilitacion.PersonalHabilitacionDesde }}">
  {{habilitacion.LugarHabilitacionDescripcion}} {{habilitacion.PersonalHabilitacionDesde|date}} - {{habilitacion.PersonalHabilitacionHasta|date}} </li> }
}


<nz-divider nzText="Objetivos"></nz-divider>
@if ((objetivos$ | async)?.asistencia; as objetivos){

@if (!objetivos.length) { <li>Sin datos</li>}

@for (objetivo of objetivos; track objetivo.ObjetivoId) {
<li title="{{ objetivo.ObjetivoId }}">
  {{objetivo.ObjetivoCodigo}} {{objetivo.ObjetivoDescripcion}} {{objetivo.totalhorascalc}}hs ({{objetivo.ObjetivoAsistenciaAnoMesPersonalDiasFormaLiquidacionHoras}})</li> }
}
