<nz-card class="small-margin">
    <form nz-form #liquidacionesForm="ngForm">

      <nz-form-item>
        <nz-form-label [nzSpan]="2">Periodo</nz-form-label>
        <nz-form-control>
          <nz-date-picker nzMode="month" name="periodo" ngModel (ngModelChange)="dateChange($event)" />
        </nz-form-control>
      </nz-form-item>


      <ul nz-menu nzMode="horizontal">
        <li nz-menu-item nzMatchRouter >
          <span nz-icon nzType=""></span>
          <a [routerLink]="['/', 'ges', 'liquidaciones','listado']">Listado</a>
        </li>

      <li nz-submenu nzTitle="Acciones">
        <ul style="width: auto !important">
          <li nz-menu-item id="ingresosPorAsistencia" (click)="liquidacionesAcciones($event)">
            <span nz-icon nzType="plus" nzTheme="outline"></span> Ingresos por asistencia
          </li>
          <li nz-menu-item id="ingresosPorAsistenciaAdministrativosArt42" (click)="liquidacionesAcciones($event)">
            <span nz-icon nzType="plus" nzTheme="outline"></span> Ingresos por asistencia administrativos y Art.42
          </li>
          <li nz-menu-item  id="ingresosCoordinadorDeCuenta" (click)="liquidacionesAcciones($event)">
            <span nz-icon nzType="plus" nzTheme="outline"></span> Ingresos por coordinador de cuenta
          </li>
          <li nz-menu-item id="descuentoPorDeudaAnterior" (click)="liquidacionesAcciones($event)">
            <span nz-icon nzType="plus" nzTheme="outline"></span> Descuentos por deuda período anterior
          </li>
          <li nz-menu-item id="descuentos" (click)="liquidacionesAcciones($event)">
            <span nz-icon nzType="plus" nzTheme="outline"></span> Descuentos
          </li>
          <li nz-menu-item id="movimientoAcreditacionEnCuenta" (click)="liquidacionesAcciones($event)">
            <span nz-icon nzType="plus" nzTheme="outline"></span> Movimiento de acreditación en cuenta
          </li> 
          <li nz-menu-item id="movimientosAutomaticos" (click)="liquidacionesAcciones($event)" >
            <span nz-icon nzType="plus" nzTheme="outline"></span> Carga de movs automático
          </li>

        </ul>
        
      </li>
      <li nz-menu-item (click)="exportGrid()">
        <span nz-icon nzType="download"></span>XLS
      </li>

      <li nz-menu-item nzMatchRouter >
        <span nz-icon nzType=""></span>
        <a [routerLink]="['/', 'ges', 'liquidaciones','cargamanual']">Carga manual</a>
      </li>
    </ul>

    <nz-tabset nzCentered nzLinkRouter class="hide-ant-tabs-nav">
      <nz-tab >
        <a nz-tab-link routerLink="/ges/liquidaciones/listado">Listado</a>
        <ng-template nz-tab *ngIf="(columns$|async) as columnas">
          <shared-filtro-builder #sfb [fieldsToSelect]="columnas" (optionsChange)="listOptionsChange($event)" />
          <div class="gridContainer container-fluid" >
            <angular-slickgrid gridId="grid22" class="" 
              [columnDefinitions]="columnas | colsFilter"
              [gridOptions]="gridOptions" 
              [dataset]="(gridData$ | async) || []" 
              (onAngularGridCreated)="angularGridReady($event)">
          </angular-slickgrid>
          </div>

          <div>Registros: {{ gridDataLen }}</div>
        </ng-template>
      </nz-tab>
      <nz-tab >
       
        <a nz-tab-link routerLink="/ges/liquidaciones/cargamanual">Carga Manual</a>
        <ng-template nz-tab *ngIf="(columns$|async) as columnas">
          <button nz-button nzType="primary" class="btn-add" data-test="add-new-item-top-btn" (click)="addNewItem()" >Agregar nuevo registro</button>
          <button nz-button nzType="primary" class="btn-add" data-test="add-new-item-top-btn" (click)="confirmNewItem()" *ngIf="gridDataInsert.length > 0">Confirmar nuevo registro</button>
          <!-- <shared-filtro-builder #sfb [fieldsToSelect]="columnas" (optionsChange)="listOptionsChange($event)" /> -->
          <div class="gridContainer container-fluid" >
            <angular-slickgrid gridId="grid23" class="" 
              [columnDefinitions]="columnDefinitions | colsFilter"
              [gridOptions]="gridOptionsEdit" 
              [dataset]="gridDataInsert || []" 
              (onAngularGridCreated)="angularGridReady($event)"
              >
              <!-- (onBeforeEditCell)="onBeforeEditCell($event)" -->
          </angular-slickgrid>
          </div>

          <div>Registros: {{ gridDataLen }}</div>
        </ng-template>
      </nz-tab>
    </nz-tabset>

  
    </form>
</nz-card>