<nz-card class="small-margin">
    <br>
  
    <form [formGroup]="formDescuentosCargaManual">
      <nz-form-item class="marginElement">
        <nz-form-label [nzXs]="4">Tipo de Carga</nz-form-label>
        <nz-form-control [nzMd]="5">
          <nz-select formControlName="tipocarga" nzPlaceHolder="" nzAllowClear
            [nzDropdownMatchSelectWidth]="false" nzShowSearch
            (ngModelChange)="onSelectChange($event)">
            <ng-container *ngFor="let option of $optionsTable | async">
              <nz-option [nzValue]="option.value" [nzLabel]="option.label"></nz-option>
            </ng-container>
          </nz-select>
        </nz-form-control>

        <nz-form-label *ngIf="ptipocarga() === 'PersonalOtroDescuento'" [nzXs]="4">Tipo de Descuento Personal</nz-form-label>
        <nz-form-control *ngIf="ptipocarga() === 'PersonalOtroDescuento'"  [nzMd]="5">
          <nz-select formControlName="DescuentoId" nzPlaceHolder="Descripcion" nzAllowClear
            [nzDropdownMatchSelectWidth]="false" nzShowSearch (ngModelChange)="onSelectChangeDescuentoId($event)">
            <ng-container *ngFor="let option of $optionsTipo | async">
              <nz-option [nzValue]="option.value" [nzLabel]="option.label"></nz-option>
            </ng-container>
          </nz-select>
        </nz-form-control>


        <nz-form-label [nzXs]="4" *ngIf="ptipocarga() === 'ObjetivoDescuento'">Tipo de Descuento Objetivo</nz-form-label>
        <nz-form-control [nzMd]="5" *ngIf="ptipocarga() === 'ObjetivoDescuento'">
          <nz-select formControlName="DescuentoId" nzPlaceHolder="Descripcion" nzAllowClear
            [nzDropdownMatchSelectWidth]="false" nzShowSearch (ngModelChange)="onSelectChangeDescuentoId($event)">
            <ng-container *ngFor="let option of $optionsTipo | async">
              <nz-option [nzValue]="option.value" [nzLabel]="option.label"></nz-option>
            </ng-container>
          </nz-select>
        </nz-form-control>

      </nz-form-item>
  @if(ptipocarga() === 'PersonalOtroDescuento' && pDescuentoId()> 0){
    <app-descuentos-carga-manual-table-personal [pDescuentoId]="pDescuentoId()" [anio]="anio()" [mes]="mes()"></app-descuentos-carga-manual-table-personal>
  }

  @if(ptipocarga() === 'ObjetivoDescuento' && pDescuentoId() > 0){
    <app-descuentos-carga-manual-table-objetivo [pDescuentoId]="pDescuentoId()" [anio]="anio()" [mes]="mes()"></app-descuentos-carga-manual-table-objetivo>
  }