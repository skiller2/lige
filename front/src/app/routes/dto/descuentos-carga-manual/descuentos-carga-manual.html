<nz-card class="small-margin">
  <br>

    <form [formGroup]="formDescuentosCargaManual">
      <nz-form-item class="marginElement">
        <nz-form-label [nzXs]="4">Tipo de Carga</nz-form-label>
        <nz-form-control [nzMd]="5">
          <nz-select formControlName="tipocarga" nzPlaceHolder="" nzAllowClear
            [nzDropdownMatchSelectWidth]="false" nzShowSearch
            (ngModelChange)="onSelectChange($event)">
            @for (option of $optionsTable | async; track option) {
              <nz-option [nzValue]="option.value" [nzLabel]="option.label"></nz-option>
            }
          </nz-select>
        </nz-form-control>

        @if (ptipocarga() === 'PersonalOtroDescuento') {
          <nz-form-label [nzXs]="4">Tipo de Descuento Personal</nz-form-label>
        }
        @if (ptipocarga() === 'PersonalOtroDescuento') {
          <nz-form-control  [nzMd]="5">
            <nz-select formControlName="DescuentoId" nzPlaceHolder="Descripcion" nzAllowClear
              [nzDropdownMatchSelectWidth]="false" nzShowSearch (ngModelChange)="onSelectChangeDescuentoId($event)">
              @for (option of $optionsTipo | async; track option) {
                <nz-option [nzValue]="option.value" [nzLabel]="option.label"></nz-option>
              }
            </nz-select>
          </nz-form-control>
        }


        @if (ptipocarga() === 'ObjetivoDescuento') {
          <nz-form-label [nzXs]="4">Tipo de Descuento Objetivo</nz-form-label>
        }
        @if (ptipocarga() === 'ObjetivoDescuento') {
          <nz-form-control [nzMd]="5">
            <nz-select formControlName="DescuentoId" nzPlaceHolder="Descripcion" nzAllowClear
              [nzDropdownMatchSelectWidth]="false" nzShowSearch (ngModelChange)="onSelectChangeDescuentoId($event)">
              @for (option of $optionsTipo | async; track option) {
                <nz-option [nzValue]="option.value" [nzLabel]="option.label"></nz-option>
              }
            </nz-select>
          </nz-form-control>
        }

      </nz-form-item>
      @if(ptipocarga() === 'PersonalOtroDescuento' && pDescuentoId()> 0){
        <app-descuentos-carga-manual-table-personal [pDescuentoId]="pDescuentoId()" [anio]="anio()" [mes]="mes()"></app-descuentos-carga-manual-table-personal>
      }

      @if(ptipocarga() === 'ObjetivoDescuento' && pDescuentoId() > 0){
        <app-descuentos-carga-manual-table-objetivo [pDescuentoId]="pDescuentoId()" [anio]="anio()" [mes]="mes()"></app-descuentos-carga-manual-table-objetivo>
      }