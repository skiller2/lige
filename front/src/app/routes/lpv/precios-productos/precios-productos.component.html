<nz-card class="small-margin">

  <div nz-row class="fila">
    <div class="izquierda">
      <nz-form-control>
        <nz-date-picker nzMode="month" [(ngModel)]="periodo" nzPlaceHolder="Periodo"/>
      </nz-form-control>
    </div>

    <div class="derecha">
      <nz-button-group nz-button nzButtonGroup style="text-align: right;">
        <!-- <a nz-tooltip nzTooltipTitle="{{ 'app.icon.edit' | i18n }}">
        <button nz-button nzType="default" ><span nz-icon nzType="edit" nzTheme="outline"></span></button>
      </a> -->
      <button nz-button nzType="default" (click)="addNewItem()" nz-tooltip nzTooltipTitle="{{ 'app.icon.add' | i18n }}">
        <span nz-icon nzType="plus" nzTheme="outline"></span>
      </button>
      <button nz-button nzType="default" [disabled]=" selectedRows().length == 0" [nzLoading]="loadingDel()"
        nz-popconfirm nzPopconfirmTitle="Eliminar {{selectedRows().length}} registros?" (nzOnConfirm)="deleteItem()"
        nz-tooltip nzTooltipTitle="{{ 'app.icon.delete' | i18n }}">
        <span nz-icon nzType="delete" nzTheme="outline"></span>
      </button>
      <!-- <button nz-button nzType="default" (click)="openDrawerforConsultHistory()" [disabled]=" editProducto().length == 0"
        nz-tooltip nzTooltipTitle="{{ 'app.icon.history' | i18n }}"><span nz-icon nzType="menu-unfold"
      nzTheme="outline"></span></button> -->
    </nz-button-group>

  </div>

</div>

<div nz-row class="contentStyle">
  <div nz-col nzSpan="13" class="listStyle">
    <ul nz-menu nzMode="horizontal" style="display: flex;">
      <li nz-menu-item nzMatchRouter>
        <span nz-icon nzType=""></span>
        <a [routerLink]="['/', 'lpv', 'precios_productos', 'precios']" >{{ 'app.precios' | i18n }}</a>
      </li>
      <!-- <li nz-menu-item nzMatchRouter>
      <span nz-icon nzType=""></span>
      <a [routerLink]="['/', 'lpv', 'precios_productos', 'detalle']">{{ 'app.detail' | i18n }}</a>
    </li>
    <li nz-menu-item nzMatchRouter>
      <span nz-icon nzType=""></span>
      <a [routerLink]="['/', 'lpv', 'precios_productos', 'detalle_productos']">{{ 'app.productdetail' | i18n }}</a>
    </li> -->
  </ul>
</div>

</div>

<nz-tabs nzCentered nzLinkRouter class="hide-ant-tabs-nav"  >

  <nz-tab>
    <a nz-tab-link routerLink="/lpv/precios_productos/precios" >{{ 'app.precios' | i18n }}</a>

    @if ((columns$|async); as columnas) {
      <ng-template nz-tab>
        <shared-filtro-builder #sfb [fieldsToSelect]="columnas" [startFilters]="startFilters" (optionsChange)="listOptionsChange($event)"  />
        <div class="gridContainer2 container-fluid">
          <angular-slickgrid gridId="gridEdit" [columns]="columnas  | colsFilter"
            [options]="gridOptionsEdit" [dataset]="(gridData$ | async) || []"
            (onAngularGridCreated)="angularGridReadyEdit($event)"
            (onSelectedRowsChanged)="handleSelectedRowsChanged($event)"
            >
            <!-- (onBeforeEditCell)="onBeforeEditCell($event)" -->
          </angular-slickgrid>
        </div>
      </ng-template>
    }
  </nz-tab>


</nz-tabs>
</nz-card>
<app-producto-historial-drawer [(visibleHistorial)]="visibleHistorial" [editProductoId]="editProducto()"></app-producto-historial-drawer>

